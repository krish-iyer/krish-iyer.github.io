<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Building Haiku and emulating with Qemu for Linux Distros | Krishnan&#39;s blog</title>

    <link rel="stylesheet" href="/css/main.css">


      <script src="/js/main.js"></script>


  
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath: [['\\(', '\\)']]                  
    },
    loader:{
      load: ['ui/safe']
    },
  };
</script>

  

</head>
<body>
  <header>
    
  <nav class="site-nav">
    <ul class="menu-root">
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="/publications/">Publications</a>
    </li>
    <li>
      <a href="/files/resume.pdf">CV</a>
    </li>
    <li>
      <a href="/about/">About</a>
    </li>
    <li>
      <a href="/contact/">Contact</a>
    </li>
    </ul>
  </nav>


  </header>
  <main>
    
    <h1 class="post-title">Building Haiku and emulating with Qemu for Linux Distros</h1>

    
    
    <time class="post-date" datetime="2018-03-24T10:51:47&#43;05:30"><em>March 24, 2018</em></time><div class="content-with-toc">
                                  <main class="post-content">
                                    <h2 id="building-haiku-from-source-code">Building Haiku from source code</h2>
<p>The following instructions are specifically to building haiku for x86_64 but you can always try building for other architectures too.</p>
<h3 id="clonning-the-source-code">Clonning the source code</h3>
<p>The official repository seems broken anyway didn&rsquo;t work out for me so I clonned from github repo</p>
<pre tabindex="0"><code>git clone https://github.com/haiku/haiku.git
</code></pre><p>Haiku uses some external tools to build from the source code</p>
<pre tabindex="0"><code>git clone https://github.com/haiku/buildtools.git
</code></pre><p>make sure that both the clonned repositories are in the same directories</p>
<h3 id="compiling-buildtools">Compiling buildtools</h3>
<p>Create a directory where you are going to save the build image and related files</p>
<pre tabindex="0"><code>mkdir generated.x86_64; cd generated.x86_64
</code></pre><p>For compiling</p>
<pre tabindex="0"><code>../configure --build-cross-tools x86_64 ../../buildtools
</code></pre><h3 id="building-the-image">Building the image</h3>
<p>Before building the image you need to install some dependencies</p>
<pre tabindex="0"><code>sudo apt-get install git nasm autoconf automake texinfo flex bison gawk build-essential unzip wget zip less zlib1g-dev libcurl4-openssl-dev genisoimage libtool
</code></pre><p>Aditional requirements for ARM</p>
<pre tabindex="0"><code>sudo apt-get install u-boot-tools util-linux mtools device-tree-compiler bc
</code></pre><p>For creating nightly anyboot Haiku iso image</p>
<pre tabindex="0"><code>jam -q -j2 @nightly-anyboot
</code></pre><p>For creating nightly raw disk images</p>
<pre tabindex="0"><code>jam -q -j2 @nightly-raw
</code></pre><h3 id="error">Error</h3>
<p>Now if you getting an error while building, specifically about haiku revision.
Then,</p>
<pre tabindex="0"><code>cd $home/haiku/build/jam
</code></pre><pre tabindex="0"><code>cat UserBuildConfig
</code></pre><p>Now copy hrexxxxx, and go to haiku/generated.x86_64/build</p>
<pre tabindex="0"><code>cd $home/haiku/generated.x86_64/build
</code></pre><p>Then created and write into the file</p>
<pre tabindex="0"><code>echo -n &#34;hrevxxxxx&#34; &gt; haiku-revision
</code></pre><p>Your error will be fixed</p>
<h2 id="emulation-with-qemu">Emulation with Qemu</h2>
<h3 id="installing-qemu">Installing Qemu</h3>
<p>Qemu is a software in which you can emulate various hardware and on top of that you can run OS in vitual enviornment</p>
<pre tabindex="0"><code>sudo apt-get install qemu
</code></pre><h3 id="booting-os-in-virtual-drive">Booting OS in virtual drive</h3>
<p>Now create an virtual harddrive in which you are going to boot the OS</p>
<pre tabindex="0"><code>qemu-img create haiku-vm.img 10G
</code></pre><p>Now boot the OS in the virtual drive</p>
<pre tabindex="0"><code>sudo qemu-system-x86_64 -boot d -cdrom haiku/generated.x86_64/haiku-nightly-anyboot.iso -m 512 -hda haiku-vm.img
</code></pre><p>Now you can simply run the virtual drive</p>
<pre tabindex="0"><code>sudo qemu-system-x86_64 haiku-vm.img
</code></pre><p>If you have any issues with building and emulation, feel free to comment :)</p>
<p>Hope this helps!</p>

                                  </main>
                                  <aside class="post-toc">
                                    <h3>Table of Contents</h3>
                                    <nav id="TableOfContents">
  <ul>
    <li><a href="#building-haiku-from-source-code">Building Haiku from source code</a>
      <ul>
        <li><a href="#clonning-the-source-code">Clonning the source code</a></li>
        <li><a href="#compiling-buildtools">Compiling buildtools</a></li>
        <li><a href="#building-the-image">Building the image</a></li>
        <li><a href="#error">Error</a></li>
      </ul>
    </li>
    <li><a href="#emulation-with-qemu">Emulation with Qemu</a>
      <ul>
        <li><a href="#installing-qemu">Installing Qemu</a></li>
        <li><a href="#booting-os-in-virtual-drive">Booting OS in virtual drive</a></li>
      </ul>
    </li>
  </ul>
</nav>
                                  </aside>
                                </div>


  </main>
  <footer>
    Â© 2025 Krishnan Iyer.
Original content licensed under
<a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>, except where otherwise noted.

  </footer>
</body>
</html>
